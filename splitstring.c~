#include <stdio.h>
#include <stdlib.h>
#include <string.h>

char **split(char *str, char *delimiter, int *size);

int main()
{
    char str[] = "This is a string";
    char delimiter[] = " ";
    int size = 0;
    char **result = split(str, delimiter, &size);
    for (int i = 0; i < size; i++)
    {
        printf("%s\n", result[i]);
    }
    return 0;
}
char **split(char *str, char *delimiter, int *size)
{
    char **result = NULL;
    char *token = strtok(str, delimiter);
    while (token != NULL)
    {
        result = realloc(result, sizeof(char *) * ++(*size));
        if (result == NULL)
            exit(-1);
        result[(*size) - 1] = token;
        token = strtok(NULL, delimiter);
    }
    return (0);
}
